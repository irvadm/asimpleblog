{% extends 'base.html' %}
{% block title %}Post List{% endblock %}


{% block main %}
<h1>Posts</h1>

<div class="pagination">
  <span class="step-links">
    {% if posts.has_previous %}
    <a class="btn tealButton btn-sm" href="?page={{ posts.previous_page_number }}">Previous</a>
    {% else %}
    <a class="btn btn-sm disabled">Previous</a>
    {% endif %}

    <!-- Showing the page numbers in Html Page -->
    <span class="current">
      Page {{ posts.number }} of {{ posts.paginator.num_pages }}
    </span>

    {% if posts.has_next %}
    <a class="btn tealButton btn-sm" href="?page={{ posts.next_page_number }}">Next</a>
    {% else %}
    <a class="btn btn-sm disabled">Next</a>
    {% endif %}
  </span>
</div>

{% for post in posts %}
<div class="card post">
  <div class="card-body">
    <h2 class="card-title"><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
    <p class="card-text">{{ post.body|truncatechars:"80" }}</p>
    <a class="btn blueButton" href="{{ post.get_absolute_url }}">Read More</a>
  </div>
  <div class="card-footer text-muted">
    Posted at {{ post.updated }} by
    {{ post.creator.username }}
    <span class="pullRight">{{ post.comments.count }} comments</span>
  </div>
</div>
{% endfor %}

<div class="pagination">
  <span class="step-links">
    {% if posts.has_previous %}
    <a class="btn tealButton btn-sm" href="?page={{ posts.previous_page_number }}">Previous</a>
    {% else %}
    <a class="btn btn-sm disabled">Previous</a>
    {% endif %}

    <!-- Showing the page numbers in Html Page -->
    <span class="current">
      Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
    </span>

    {% if posts.has_next %}
    <a class="btn tealButton btn-sm" href="?page={{ posts.next_page_number }}">Next</a>
    {% else %}
    <a class="btn btn-sm disabled">Next</a>
    {% endif %}
  </span>
</div>
{% endblock %}